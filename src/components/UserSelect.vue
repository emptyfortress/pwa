<template lang="pug">
v-autocomplete(:loading="personloading" :items="persons" :search-input.sync="search" v-model="select" solo multiple chips deletable-chips :background-color="mycolor" cache-items class="mx-3" flat hide-no-data hide-details :label="label")
	template( slot="item" slot-scope="{ item, tile }" )
		v-list-tile-avatar
			img(:src="require('@/assets/img/user0.svg')").av
		v-list-tile-content
			v-list-tile-title {{ item }}
			v-list-tile-sub-title.small отдел, департамент
</template>

<script>
export default {
	props: ['mycolor', 'label'],
	data () {
		return {
			personloading: false,
			search: null,
			items: [],
			select: null,
			persons: [
				'Абрамов',
				'Авдеев',
				'Агафонов',
				'Аксёнов',
				'Александров',
				'Алексеев',
				'Андреев',
				'Анисимов',
				'Антонов',
				'Артемьев',
				'Архипов',
				'Афанасьев',
				'Баранов',
				'Белов',
				'Белозёров',
				'Белоусов',
				'Беляев',
				'Беляков',
				'Беспалов',
				'Бирюков',
				'Блинов',
				'Блохин',
				'Бобров',
				'Бобылёв',
				'Богданов',
				'Большаков',
				'Борисов',
				'Брагин',
				'Буров',
				'Быков',
				'Васильев',
				'Веселов',
				'Виноградов',
				'Вишняков',
				'Владимиров',
				'Власов',
				'Волков',
				'Воробьёв',
				'Воронов',
				'Воронцов',
				'Гаврилов',
				'Галкин',
				'Герасимов',
				'Голубев',
				'Горбачёв',
				'Горбунов',
				'Гордеев',
				'Горшков',
				'Григорьев',
				'Гришин',
				'Громов',
				'Гуляев',
				'Гурьев',
				'Гусев',
				'Гущин',
				'Давыдов',
				'Данилов',
				'Дементьев',
				'Денисов',
				'Дмитриев',
				'Доронин',
				'Дорофеев',
				'Дроздов',
				'Дьячков',
				'Евдокимов',
				'Евсеев',
				'Егоров',
				'Елисеев',
				'Емельянов',
				'Ермаков',
				'Ершов',
				'Ефимов',
				'Ефремов',
				'Жданов',
				'Жуков',
				'Журавлёв',
				'Зайцев',
				'Захаров',
				'Зимин',
				'Зиновьев',
				'Зуев',
				'Зыков',
				'Иванов',
				'Игнатов',
				'Игнатьев',
				'Ильин',
				'Исаев',
				'Исаков',
				'Кабанов',
				'Казаков',
				'Калашников',
				'Калинин',
				'Капустин',
				'Карпов',
				'Кириллов',
				'Киселёв',
				'Князев',
				'Ковалёв',
				'Козлов',
				'Колесников',
				'Колобов',
				'Комаров',
				'Комиссаров',
				'Кондратьев',
				'Коновалов',
				'Кононов',
				'Константинов',
				'Копылов',
				'Корнилов',
				'Королёв',
				'Костин',
				'Котов',
				'Кошелев',
				'Красильников',
				'Крылов',
				'Крюков',
				'Кудрявцев',
				'Кудряшов',
				'Кузнецов',
				'Кузьмин',
				'Кулагин',
				'Кулаков',
				'Куликов',
				'Лаврентьев',
				'Лазарев',
				'Лапин',
				'Ларионов',
				'Лебедев',
				'Лихачёв',
				'Лобанов',
				'Логинов',
				'Лукин',
				'Лыткин',
				'Макаров',
				'Максимов',
				'Мамонтов',
				'Марков',
				'Мартынов',
				'Маслов',
				'Матвеев',
				'Медведев',
				'Мельников',
				'Меркушев',
				'Миронов',
				'Михайлов',
				'Михеев',
				'Мишин',
				'Моисеев',
				'Молчанов',
				'Морозов',
				'Муравьёв',
				'Мухин',
				'Мясников',
				'Назаров',
				'Наумов',
				'Некрасов',
				'Нестеров',
				'Никитин',
				'Никифоров',
				'Николаев',
				'Никонов',
				'Новиков',
				'Носков',
				'Носов',
				'Овчинников',
				'Одинцов',
				'Орехов',
				'Орлов',
				'Осипов',
				'Павлов',
				'Панов',
				'Панфилов',
				'Пахомов',
				'Пестов',
				'Петров',
				'Петухов',
				'Поляков',
				'Пономарёв',
				'Попов',
				'Потапов',
				'Прохоров',
				'Рогов',
				'Родионов',
				'Рожков',
				'Романов',
				'Русаков',
				'Рыбаков',
				'Рябов',
				'Савельев',
				'Савин',
				'Сазонов',
				'Самойлов',
				'Самсонов',
				'Сафонов',
				'Селезнёв',
				'Селиверстов',
				'Семёнов',
				'Сергеев',
				'Сидоров',
				'Силин',
				'Симонов',
				'Ситников',
				'Смирнов',
				'Соболев',
				'Соколов',
				'Соловьёв',
				'Сорокин',
				'Степанов',
				'Стрелков',
				'Субботин',
				'Суворов',
				'Суханов',
				'Сысоев',
				'Тарасов',
				'Терентьев',
				'Тетерин',
				'Тимофеев',
				'Титов',
				'Тихонов',
				'Третьяков',
				'Трофимов',
				'Туров',
				'Уваров',
				'Устинов',
				'Фадеев',
				'Федосеев',
				'Федотов',
				'Филатов',
				'Филиппов',
				'Фокин',
				'Фомин',
				'Фомичёв',
				'Фролов',
				'Фёдоров',
				'Харитонов',
				'Хохлов',
				'Цветков',
				'Чернов',
				'Шарапов',
				'Шаров',
				'Шашков',
				'Шестаков',
				'Шилов',
				'Ширяев',
				'Шубин',
				'Щербаков',
				'Щукин',
				'Юдин',
				'Яковлев',
				'Якушев'
			]
		}
	},
	watch: {
		search (val) {
			val && val !== this.select && this.querySelections(val)
		}
	},
	computed: {
	},
	methods: {
		querySelections (v) {
			this.personloading = true
			// Simulated ajax query
			setTimeout(() => {
				this.items = this.persons.filter(e => {
					return (e || '').toLowerCase().indexOf((v || '').toLowerCase()) > -1
				})
				this.personloading = false
			}, 500)
		}
	}
}
</script>

<style scoped lang="scss">
@import '@/assets/css/colors.scss';

.v-autocomplete {
	border-bottom: 1px solid #333;
}

.application .theme--light.v-list .v-list__tile__mask, .theme--light .v-list .v-list__tile__mask {
	color: #fff;
	background: #333;
}

.av {
	background: $grey;
}
.small {
	font-size: .8rem;
	color: $grey2;
	font-style: italic;
}

</style>
